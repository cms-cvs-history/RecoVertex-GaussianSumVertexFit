process Demo =  {
  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

source = PoolSource { 
	untracked vstring fileNames = {"file:/data/s/speer/cmssw/vertexGSF120/data/sim_10electrons_pixel.root"} 
	untracked int32 maxEvents = -1
}

include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"
     include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"
     include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"

module dump = EventContentAnalyzer {}

module simpleVertexAnalysis = GsfTest {
     string TrackLabel = "GsfElectrons"
     untracked string outputFile="simpleVertexAnalyzer.root"
     PSet GsfParameters =
     {
       double maxDistance = 0.01
       int32 maxNbrOfIterations = 10
       bool limitComponents = true
	PSet GsfMergerParameters =
	{
  		int32 maxNbrComponents = 20
		string merger = "LargestWeightsStateMerger"
		string distance = "KullbackLeiblerDistance"
	}
     }
}

path p = {simpleVertexAnalysis } 
} 
